---
title:  "책임과 메시지"
excerpt: "객체 지향의 사실과 오해"
categories:
  - Study
tag:
  - ObjectOrientation
toc: true
---

>훌륭하고 성장 가능한 시스템을 만드릭 위한 핵심은 모듈 내부의 속성과 행동이 어떤가보다는 모듈이 어떻게 커뮤니케이션하는가에 달려 있다.

## 자율적인 책임
객체지향 공동체를 구성하는 기본 단위는 '자율적'인 객체다. 객체들은 애플리케이션의 기능을 구현하기 위해 협력하고, 협력 과정에서 각자 맡은 바 책임을 다하기 위해 자율적으로 판단하고 행동한다.


**설계의 품질을 좌우하는 책임**
- 객체가 어떤 행동을 하는 유일한 이유는 다른 객체로부터 요청을 수신하는 경우다.
- 요청을 처리하기 위해 객체가 수행하는 행동을 책임이라 하며 자율적인 객체란 스스로의 의지와 판단에 따라 각자 맡은 책임을 수행하는 객체를 의미한다.
- 적절한 책임이 자율적인 객체를 낳고, 자율적인 객체들이 모여 유연하고 단순한 협력을 낳는다. 협력에 참여하는 객체가 얼마나 자율적인지가 전체 애플리케이션의 품질을 결정한다.


**자신의 의지에 따라 증언할 수 있는 자유**
- 객체가 책임을 자율적으로 수행하기 위해서는 객체에게 할당되는 책임이 자율적이어야 한다.
- 객체가 다른 객체에게 책임을 요청할때는 자율성을 보장 할 수 있도록 포괄적이고 추상적이면서 해야 할 일을 명확히 제시해야한다.
- 구체적이고 상세한 수준의 책임은 위임받은 객체의 자율성을 침해 한다. 책임을 위임받은 객체는 책임을 수행할지 말지 어떤 방식으로 수행할지는 스스로 선택해야 한다.


**너무 추상적인 책임**
- 포괄적이고 추상적인 책임을 선택한다고 해서 무조건 좋은 것은 아니다. 책임 수행방법이 너무 구체적인 것도 문제지만 협력의 의돌를 명확하게 표현하지 못할정도의 추상적인 것 역시 문제다.
- 책임은 협력에 참여하는 의도를 명확하게 설명할 수 있는 수준 안에서 추상적이어야 한다.
- 성급한 일반화의 오류를 피하고 현재의 문맥에 가장 적합한 책임을 선택할 수 있는 안목을 키워야 한다.


**'어떻게'가 아니라 '무엇'을**
- 자율적인 책임의 특징은 객체가 어떻게(how) 해야 하는게 아닌 무엇(what)을 해야 하는가를 설명한다는 것이다.
- 어떻게의 책임 수준에는 선택할수 있는 부분은 크게 제한된다. 무엇을 책임질지가 되어야 자유롭게 처리할 수 있다.


**책임을 자극하는 메시지**
- 책임이라는 말 속에는 어던 행동을 수행한다는 의미가 포함돼 있다. 객체지향 에서는 다른 객체로부터 전송된 요청을 수신할 때만 어떤 행동을 시작한다.
- 객체가 자신에게 할당된 책임을 수행하도록 만드는 것은 외부에서 전달되는 요청이다.
- 객체가 다른 객체에게 접근할 수 있는 유일한 방법은 메시지를 보내는 거다. 메시지는 객체로 하여금 자신의 책임, 즉 책임을 수행하게 만드는 유일한 방법이다.


## 메시지와 메서드

**메시지**
- 하나의 객체는 메시지를 전송함으로써 다른 객체에 접근한다.
- 재판장이 증인에게 전송하는 메시지를 가리키는 '증언하라'라는 부분은 메시지 이름이고 이를 위해 추가적인 정보가 필요한 겨우에는 인자를 통해서 추가 정보를 제공할 수 있다.
  * 인자를 통해 특정한 장소와 시간에 목격한 것을 증언하라고 요청할 수 있다.
  * 이것은 전송하는 메시지의 인자를 이용해 언제와 어디서 라는 추가적인 정보를 실어 보낸다는 것을 의미한다.
- 메시지 전송은 수신자와 메시지의 조합으로 수신자, 메시지 이름, 인자의 순서대로 나열하면 전송이 된다. 
  * 재판장은 증인에게 '증인,증언하라(어제, 술집)' 형태로 메시지를 전송한다.
- 메시지를 수신받는 객체는 처리할수 있는지 확인하고 처리할 수 있는 경우에는 메시지에해당하는 행동을 수행해야 할 책임을 가진다.
- 근본적으로 메시지의 개념은 책임의 개념과 연결된다.


**메서드**
- 재판장에게 증언하라 라는 메시지를 받은 증인이 메시지를 처리할 방법을 선택할 수 있는데 처리하기 위한 내부적 방법을 메서드라고 한다.
- 메시지 수신 후 처리 가능 여부를 확인 후 가능한 경우 처리를 위한 메서드를 선택하게 된다.
- 따라서 어떤 객체에게 어떤 메시지를 전송하면 결과적으로 메시지에 대응되는 특정 메서드가 실행된다.
- 메시지는 어떻게 수행될 것인지는 명시하지 않고 단지 오퍼레이션을 통해 무엇이 실행되기를 바라는지만 명시한다. 어떤 메서드를 선택할 것인지는 전적으로 수신자에 의해 결정된다.
- 메시지를 수신한 객체가 실행 시간에 메서드를 선택할 수 있다는 것은 다른 프로그래밍 언어와 객체지향 언어를 구분 짓는 특징이다.
- 프로시저 호출에 대한 실행 코드를 컴파일 시간에 결정하는 절차적인 언어와 확연히 구분되는 특징이다.

**다형성**