---
title:  "역활, 책임, 협력 관점에서 본 객체 지향"
excerpt: "객체 지향의 사실과 오해"
categories:
  - Study
tag:
  - Java
toc: true
---

## 객체지향
협력, 역활, 책임으로 표현할 수 있으며 현실 세계와 닮아 있다. 

**협력**  
- 객체들은 서로간의 협력을 통해서 관계를 맺을 수 있다.
- 음식을 주문한다고 하면 손님의 역활, 종업원의 역활, 요리사의 역활이 존재하며 이는 협력관계를 가진다.

**역활**  
- 객체들은 각자의 역활을 갖는다.
- 하나의 역활(손님)을 가질수도 있고 여러개의 역활(식당에선 손님 집에선 아버지)을 가질수도 있다 이를 다향성이라고 한다.

**책임**  
- 각각의 역활에는 이를 수행해야 하는 책임이 있다. 
- 손님의 역활을 가진 객체가 종원원 역활을 가진 객체에게 음식을 요청하면 이를 받아들여야 할지 거부해야할지 자유롭게 책임을 가질수 있다.

>객체들은 각자의 역활이 있으며 협력관계를 통해 각자의 책임을 수행한다. 아버지의 역활에서의 협력관계(가족), 회사원의 역활에서의 협력관계(직장) 이렇듯 협력관계에 각각의 역활들은 자신들의 책임을 수행하면서 통한하고 있다. 이를 보면 현실세계와 유사하다는 걸 알 수 있다.

### 역활과 책임을 수행하며 협력하는 객체들

- 사람들은 특정한 목표를 이루기 위해 서로 협력한다. 협력의 핵심은 특정한 책임을 수행하는 역활들과의 요청과 응답으로 이루어지고 이를 통해서 목표를 달성한다.
- 이런 목표들은 더 작은 책임으로 분할되고 책임을 수행할 수 있는  적절한 역활을 가진 사람에 의해 수행된다.
- 협력에 참여하는 사람들은 책음을 수행하기 위해 다른 사람에거 도움을 요청하기도 하며 이를 통해 연쇄적인 요청과 응답이 이루어지는 협력 관계가 완성된다.

**객체의 역할의 특성**
- 여러 객체가 동일한 역할을 수행할 수 있다.
- 역할은 대체 가능성을 의미한다.
- 각 객체는 책임을 수행하는 방법을 자율적으로 선택할 수 있다.
- 하나의 객체가 동시에 여러 역할을 수행할 수 있다.

### 협력 속에 사는 객체

객체 지향 애플리케이션의 윤곽을 결정하는 것은 역활, 책임, 협력이지만 실제로 협력에 참여하는 주체는 객체다. 애플리케이션 내부에는 쉴 새 없으 메시지를 주고 받으며 협력하는 객체들이 존재한다.


**객체의 두가지 덕목**  
1. 객체는 충분히 협력적이여야 한다.
  - 다른 객체의 요청에 충실히 귀 기울이고 다른 객체에게 적극적으로 도움을 요청할 줄 알아야 한다.
  - 모든 기능들을 혼자 처리 하는 객체는 내부가 복잡해 자멸할 수 있다.
  - 협력적이라는 말은 객체의 명령에 복족하는 것이 아닌 요청에 응답할 뿐이며 어떤식으로 할지는 객체가 스스로 판단하고 결정한다.
1. 객체가 충분히 자율적이여야 한다.
  - 자율적이란 말은 스스로 원칙에 따라 행동하거나 스스로 통제하여 절제하는 것을 의미한다.
  - 식당에서 손님에게 종업원이 주문을 받으면 행동을 시작하지만 접수 내역을 전달하는 방법은 스스로 결정한다. 
  - 손님에게 어떤식으로 질문하고 요리사에게 어떤식으로 만들지 내용을 지시하지 않고 스스로 결정한다.
  - 실 생활과 비욕하면 공동체는 공동의 목표를 달성하기 위해 협력하지만 스스로의 결정과 판단에 따라 행동하는 것과 비슷하다.


### 상태와 행동을 함께 지닌 자율적인 객체

- 흔히 객체를 상태(state)와 행동(beheavior)을 함께 지닌 실체라고 정의한다. 
- 요리사의 역활을 수행하는 객체가 있다면 요리하는 방법은 당연히 알고 있어야 한다.
- 겍체가 스스로 결정하는 자율적인 존재로 남기 위해서는 필요한 행동과 상태를 함께 지니고 있어야 한다.
- 자율성은 내부와 외부를 명확하게 구분해야 하며 허락된 수단을 통해서만 의사 소통해야 한다.
- 다른 객체가 무엇(what)을 수행하는지는 알수 있지만 어떻게(how) 수행하는지에서는 알수 없어야 한다.


### 협력과 메시지 

- 음식을 주문하기 위해 협력하는 사람들은 자신의 책음을 다하기 위해 다른사람들에게 도움을 요청한다.
- 손님은 종업원에게 주문된 음식을 요청하고 종업원은 요리사에게 음식을 만들것을 요청한다.
- 이를 메시지라고 하며 한객체가 다른 객체에게 요청하는 것을 메시지를 전송한다고 말하며 받는 것을 메시지를 수신한다고 한다.
- 결과적으로 협력을 위해 다른 객체에게 메시지를 전송하고 다른 객체로부터 메시지를 수신하며 통신한다.
  * 메시지를 전송하는 객체를 송신자라고 부르며 수신하는 객체를 수신자라고 부른다.
  
### 메서드와 자율성

- 메시지가 전송되면 수신자는 이해할 수 있는지를 판단하고 자신의 방법에 따라 메시지를 처리한다 
- 이처럼 메시지를 처리하는 방법을 메서드라고 부른다.
- 메서드는 클래스 안에 포함된 함수 또는 프로시저를 통해 구현되며 메시지를 전송하면 결과적으로 대응되는 특정 메서드가 실행된다.
- 메시지와 메서드의 분리는 협력에 참여하는 객체들 간의 자율성을 증진시킨다.
- 음식을 주문하는 과정에서 음식 제조를 받은 요리사는 전자렌지 또는 가스렌지를 통해 요리를 할 수 있다.
- 음식 요리 요청이 메시지이고 음식을 요리하는 구체적인 방법이 메서드로 요청만 할 뿐이지 관여는 하지 않고 자율적인 방법으로 요리할 수 있다.
- 외부의 요청이 무엇인지를 표현하는 메시지와 요청을 처리하기 위한 구체적인 방법인 메서드를 분리하는 매커니즘은 캡슐화와 깊이 관련돼 있다.


### 객체지향의 본질
 
- 객체지향이란 시스템을 상호작용하는 **자율적인 객체들의 공동체**로 바라보고 객체를 이용해 시스템을 분할하는 방법이다.
- 자율적인 객체란 **상태**와 **행위**를 함께 지니며 스스로 자기 자신을 책임지는 객체를 의미한다.
- 객체는 시스템의 행위를 구현하기 우해 다른 객체와의 __협력__한다. 각 객체는 협력 내에서 정해진 역활을 수행하며 역활은 관련된 책임의 집합이다.
- 객체는 다른 객체와 협력하기 위해 메시지르 ㄹ전송하고, 메시지를 수신한 객체는 메시지르 ㄹ처리하는 데 적합한 메서드를 자율적으로 선택한다.

**객체를 지향하라**
- 클래스==객체로 아니다 클래스끼리의 메시지를 주고 받는 관점이 아닌 객체의 관점으로 사고의 중심을 전환해야 한다.
- 클래스는 객체들의 협력 관계를 옮기는 도구에 불과하다 핵심은 적절한 책임을 수행하는 역활 간의 유연하고 견고한 협력 관계이다.
- 클래스의 구조와 메서드가 아니라 역활, 책임, 협력에 집중해야 되며 객체를 지향하는 것이지 클래스를 지행하는 것이 아니다.  