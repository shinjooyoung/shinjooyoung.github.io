---
title:  "스프링 인터셉터"
excerpt: "스프링 MVC 2편 김영한"
categories:
  - Education
tag:
  - Spring
toc: true
---

## 스프링 인터셉터
서블릿 필터와 마찬가지로 공통 관심 사항을 효과적으로 해결 할 수 있는 기술이다.

**스프링 인터셉터 흐름**
```
HTTP 요청 -> WAS -> 필터 -> 서블릿(디스패처 서블릿) -> 스프링 인터셉터 -> 컨트롤러 // 로그인 사용자
HTTP 요청 -> WAS -> 필터 -> 서블릿(디스패처 서블릿) -> 스프링 인터셉터 -> 컨트롤러(적절하지 않은 요청이라 판단, 컨트롤러 호출X) // 비 로그인 사용자
```

**스프링 인터셉터 체인**
```
HTTP 요청 -> WAS -> 필터 -> 서블릿(디스패처 서블릿) -> 인터셉터1 -> 인터셉터2 -> 컨트롤러
```

> 인터셉터는 서블릿 필터보더 더 다양하고 편리한 기능을 제공한다.

### 스프링 인터셉터 인터페이스
스프링의 인터셉터를 사용하려면 HandlerInterceptor 인터페이스를 구현하면 된다.

``` java
public interface HandlerInterceptor {

//컨트롤러 호출 전
default boolean preHandle(HttpServletRequest request, HttpServletResponse response,
                            Object handler) throws Exception {}
//컨틀로 호출                           
default void postHandle(HttpServletRequest request, HttpServletResponse response,
                          Object handler, @Nullable ModelAndView modelAndView) throws Exception {}

//HTTP 요청이 끝날때
default void afterCompletion(HttpServletRequest request, HttpServletResponse response,
                               Object handler, @Nullable Exception ex) throws Exception {}
```

- 

